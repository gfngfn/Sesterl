
let make_sub(cond) =
  spawn(
    receive
    | x when cond ->
        if x then return(()) else return(())

    | _ ->
        return(())
    end
  )

letrec aux(n) =
  if n <= 0 then
    return(57)
  else
    do pid <- make_sub(true) in
    aux(n - 1)


let main() =
  aux(10)
